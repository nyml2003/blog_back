"use strict";(globalThis["webpackChunkventus"]=globalThis["webpackChunkventus"]||[]).push([[8231],{7537:(t,e,r)=>{r.d(e,{Z:()=>d});r(5954);var s=r(6929),n=r(7218),a=r(859),o=r(4290),i=r(1651),l=r(8192),c=r(7623),u=r(8586);const d=(0,a.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:e,emit:r}){const a=(0,s.FN)(),d=(0,n.iH)(null);let p=0;const S=[];function h(e){const s="boolean"===typeof e?e:!0!==t.noErrorFocus,n=++p,a=(t,e)=>{r("validation"+(!0===t?"Success":"Error"),e)},o=t=>{const e=t.validate();return"function"===typeof e.then?e.then((e=>({valid:e,comp:t})),(e=>({valid:!1,comp:t,err:e}))):Promise.resolve({valid:e,comp:t})},i=!0===t.greedy?Promise.all(S.map(o)).then((t=>t.filter((t=>!0!==t.valid)))):S.reduce(((t,e)=>t.then((()=>o(e).then((t=>{if(!1===t.valid)return Promise.reject(t)}))))),Promise.resolve()).catch((t=>[t]));return i.then((t=>{if(void 0===t||0===t.length)return n===p&&a(!0),!0;if(n===p){const{comp:e,err:r}=t[0];if(void 0!==r&&console.error(r),a(!1,e),!0===s){const e=t.find((({comp:t})=>"function"===typeof t.focus&&!1===(0,u.$D)(t.$)));void 0!==e&&e.comp.focus()}}return!1}))}function g(){p++,S.forEach((t=>{"function"===typeof t.resetValidation&&t.resetValidation()}))}function m(e){void 0!==e&&(0,o.NS)(e);const s=p+1;h().then((n=>{s===p&&!0===n&&(void 0!==t.onSubmit?r("submit",e):void 0!==e&&void 0!==e.target&&"function"===typeof e.target.submit&&e.target.submit())}))}function _(e){void 0!==e&&(0,o.NS)(e),r("reset"),(0,s.Y3)((()=>{g(),!0===t.autofocus&&!0!==t.noResetFocus&&f()}))}function f(){(0,i.jd)((()=>{if(null===d.value)return;const t=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),(t=>t.tabIndex>-1));null!==t&&void 0!==t&&t.focus({preventScroll:!0})}))}(0,s.JJ)(c.vh,{bindComponent(t){S.push(t)},unbindComponent(t){const e=S.indexOf(t);e>-1&&S.splice(e,1)}});let v=!1;return(0,s.se)((()=>{v=!0})),(0,s.dl)((()=>{!0===v&&!0===t.autofocus&&f()})),(0,s.bv)((()=>{!0===t.autofocus&&f()})),Object.assign(a.proxy,{validate:h,resetValidation:g,submit:m,reset:_,focus:f,getValidationComponents:()=>S}),()=>(0,s.h)("form",{class:"q-form",ref:d,onSubmit:m,onReset:_},(0,l.KR)(e.default))}})},7959:(t,e,r)=>{r.d(e,{Z:()=>i});var s=r(6929),n=r(859),a=r(8192),o=r(7623);const i=(0,n.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:r}}=(0,s.FN)(),n=(0,s.f3)(o.YE,o.qO);if(n===o.qO)return console.error("QPage needs to be a deep child of QLayout"),o.qO;const i=(0,s.f3)(o.Mw,o.qO);if(i===o.qO)return console.error("QPage needs to be child of QPageContainer"),o.qO;const l=(0,s.Fl)((()=>{const e=(!0===n.header.space?n.header.size:0)+(!0===n.footer.space?n.footer.size:0);if("function"===typeof t.styleFn){const s=!0===n.isContainer.value?n.containerHeight.value:r.screen.height;return t.styleFn(e,s)}return{minHeight:!0===n.isContainer.value?n.containerHeight.value-e+"px":0===r.screen.height?0!==e?`calc(100vh - ${e}px)`:"100vh":r.screen.height-e+"px"}})),c=(0,s.Fl)((()=>"q-page"+(!0===t.padding?" q-layout-padding":"")));return()=>(0,s.h)("main",{class:c.value,style:l.value},(0,a.KR)(e.default))}})},5125:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>translateMIPS2Verilog});var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5954),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__);class Bit32{constructor(t){this.value=t,this.value=t}toHex(){return parseInt(this.value,2).toString(16).padStart(8,"0")}}class R{constructor(t,e,r="00000",s,n="00000",a,o){this.op=t,this.func=e,this.shift=r,this.rd=s,this.rs=n,this.rt=a,this.name=o,this.op=t,this.func=e,this.shift=r,this.rd=s,this.rs=n,this.rt=a,this.name=o}toString(){return new Bit32(`${this.op}${this.func}${this.shift}${this.rd}${this.rs}${this.rt}`)}getName(){return this.name}}class I{constructor(t,e,r,s,n){this.op=t,this.imm=e,this.rs=r,this.rt=s,this.name=n,this.op=t,this.imm=e,this.rs=r,this.rt=s,this.name=n}toString(){return new Bit32(`${this.op}${this.imm}${this.rs}${this.rt}`)}getName(){return this.name}}class J{constructor(t,e,r){this.op=t,this.addr=e,this.name=r,this.op=t,this.addr=e,this.name=r}toString(){return new Bit32(`${this.op}${this.addr}`)}getName(){return this.name}}class Add extends(null){constructor(t,e,r){super("000000","000001","00000",parseInt(t.slice(1)).toString(2).padStart(5,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"add")}}class And extends(null){constructor(t,e,r){super("000001","000001","00000",parseInt(t.slice(1)).toString(2).padStart(5,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"and")}}class Or extends(null){constructor(t,e,r){super("000001","000010","00000",parseInt(t.slice(1)).toString(2).padStart(5,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"or")}}class Xor extends(null){constructor(t,e,r){super("000001","000100","00000",parseInt(t.slice(1)).toString(2).padStart(5,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"xor")}}class Srl extends(null){constructor(t,e,r){super("000010","000010",parseInt(r.slice(2),16).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"00000",parseInt(e.slice(1)).toString(2).padStart(5,"0"),"srl")}}class Sll extends(null){constructor(t,e,r){super("000010","000011",parseInt(t.slice(2),16).toString(2).padStart(5,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),"00000",parseInt(r.slice(1)).toString(2).padStart(5,"0"),"sll")}}class Addi extends(null){constructor(t,e,r){super("000101",parseInt(r.slice(2),16).toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"addi")}}class Andi extends(null){constructor(t,e,r){super("001001",parseInt(r.slice(2),16).toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"andi")}}class Ori extends(null){constructor(t,e,r){super("001010",parseInt(r.slice(2),16).toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"ori")}}class Xori extends(null){constructor(t,e,r){super("001100",parseInt(r.slice(2),16).toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"xori")}}class Load extends(null){constructor(t,e,r){super("001101",parseInt(e.slice(2),16).toString(2).padStart(16,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"load")}}class Store extends(null){constructor(t,e,r){super("001110",parseInt(e.slice(2),16).toString(2).padStart(16,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),parseInt(t.slice(1)).toString(2).padStart(5,"0"),"store")}}class Beq extends(null){constructor(t,e,r,s){const n=parseInt(s.slice(3),16)-t-1<0?parseInt(s.slice(3),16)-t-1+Math.pow(2,16):parseInt(s.slice(3),16)-t-1;super("001111",n.toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"beq")}}class Bne extends(null){constructor(t,e,r,s){const n=parseInt(s.slice(3),16)-t-1<0?parseInt(s.slice(3),16)-t-1+Math.pow(2,16):parseInt(s.slice(3),16)-t-1;super("010000",n.toString(2).padStart(16,"0"),parseInt(e.slice(1)).toString(2).padStart(5,"0"),parseInt(r.slice(1)).toString(2).padStart(5,"0"),"bne")}}class Jump extends(null){constructor(t){super("010010",parseInt(t.slice(2),16).toString(2).padStart(26,"0"),"jump")}}function translateMIPS2Verilog(input){const verilogCode=["assign rom[6'h00] = 32'h00000000;"];function addInstructionToROM(t){verilogCode.push(`assign rom[6'h${verilogCode.length.toString(16).padStart(2,"0")}] = 32'h${t.toString().toHex()};`)}for(const[index,instruction]of input.entries()){const[name,...args]=instruction.split(" "),instruction_class=eval(name.charAt(0).toUpperCase()+name.slice(1));if("store"===name){const[t,...e]=args[0].split(","),[r,s]=e.join(" ").split("("),n=Reflect.construct(instruction_class,[t,r,s.slice(0,-1)]);addInstructionToROM(n)}else if("load"===name){const[t,...e]=args[0].split(","),[r,s]=e.join(" ").split("("),n=Reflect.construct(instruction_class,[t,r,s.slice(0,-1)]);addInstructionToROM(n)}else if("beq"===name||"bne"===name){const t=Reflect.construct(instruction_class,[index,...args[0].split(",")]);addInstructionToROM(t)}else{const t=Reflect.construct(instruction_class,args[0].split(","));addInstructionToROM(t)}}return verilogCode}},8231:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var s=r(6929),n=r(7218),a=r(5125);const o={class:"flex"},i={class:"flex flex-center q-mt-md"},l={__name:"TranslatePage",setup(t){const e=(0,n.iH)("addi r1,r1,0x0004\nor r4,r5,r6\naddi r3,r2,0x0\nbeq r3,r4,6'h0b\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004\naddi r1,r1,0x0004"),r=(0,n.iH)("");function l(){r.value=(0,a.l)(e.value.split("\n").filter((t=>""!==t.trim()))).join("\n")}return(t,n)=>{const a=(0,s.up)("q-input"),c=(0,s.up)("q-btn"),u=(0,s.up)("q-form"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,{padding:"",class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onSubmit:t.submit},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s.Wm)(a,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=t=>e.value=t),label:"指令",type:"textarea",class:"q-ma-md",autogrow:"",style:{width:"30vw",height:"50vh"}},null,8,["modelValue"]),(0,s.Wm)(a,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=t=>r.value=t),label:"Verilog",type:"textarea",class:"q-ma-md",autogrow:"",style:{width:"30vw",height:"50vh"}},null,8,["modelValue"])]),(0,s._)("div",i,[(0,s.Wm)(c,{label:"生成字节码",type:"submit",onClick:l})])])),_:1},8,["onSubmit"])])),_:1})}}};var c=r(7959),u=r(7537),d=r(9033),p=r(5779),S=r(9332),h=r.n(S);const g=l,m=g;h()(l,"components",{QPage:c.Z,QForm:u.Z,QInput:d.Z,QBtn:p.Z})}}]);