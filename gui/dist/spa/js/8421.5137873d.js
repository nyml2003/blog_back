"use strict";(globalThis["webpackChunkventus"]=globalThis["webpackChunkventus"]||[]).push([[8421],{6453:(e,t,a)=>{a.d(t,{Z:()=>s});a(5954);var l=a(6929),o=a(7218),i=a(8532),n=a(859),r=a(8192),u=a(7623);const s=(0,n.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:n}}=(0,l.FN)(),s=(0,l.f3)(u.YE,u.qO);if(s===u.qO)return console.error("QHeader needs to be child of QLayout"),u.qO;const c=(0,o.iH)(parseInt(e.heightHint,10)),d=(0,o.iH)(!0),v=(0,l.Fl)((()=>!0===e.reveal||s.view.value.indexOf("H")>-1||n.platform.is.ios&&!0===s.isContainer.value)),p=(0,l.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===v.value)return!0===d.value?c.value:0;const t=c.value-s.scroll.value.position;return t>0?t:0})),g=(0,l.Fl)((()=>!0!==e.modelValue||!0===v.value&&!0!==d.value)),m=(0,l.Fl)((()=>!0===e.modelValue&&!0===g.value&&!0===e.reveal)),f=(0,l.Fl)((()=>"q-header q-layout__section--marginal "+(!0===v.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===g.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),h=(0,l.Fl)((()=>{const e=s.rows.value.top,t={};return"l"===e[0]&&!0===s.left.space&&(t[!0===n.lang.rtl?"right":"left"]=`${s.left.size}px`),"r"===e[2]&&!0===s.right.space&&(t[!0===n.lang.rtl?"left":"right"]=`${s.right.size}px`),t}));function b(e,t){s.update("header",e,t)}function y(e,t){e.value!==t&&(e.value=t)}function w({height:e}){y(c,e),b("size",e)}function _(e){!0===m.value&&y(d,!0),a("focusin",e)}(0,l.YP)((()=>e.modelValue),(e=>{b("space",e),y(d,!0),s.animate()})),(0,l.YP)(p,(e=>{b("offset",e)})),(0,l.YP)((()=>e.reveal),(t=>{!1===t&&y(d,e.modelValue)})),(0,l.YP)(d,(e=>{s.animate(),a("reveal",e)})),(0,l.YP)(s.scroll,(t=>{!0===e.reveal&&y(d,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const k={};return s.instances.header=k,!0===e.modelValue&&b("size",c.value),b("space",e.modelValue),b("offset",p.value),(0,l.Jd)((()=>{s.instances.header===k&&(s.instances.header=void 0,b("size",0),b("offset",0),b("space",!1))})),()=>{const a=(0,r.Bl)(t.default,[]);return!0===e.elevated&&a.push((0,l.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push((0,l.h)(i.Z,{debounce:0,onResize:w})),(0,l.h)("header",{class:f.value,style:h.value,onFocusin:_},a)}}})},2322:(e,t,a)=>{a.d(t,{Z:()=>v});a(5954);var l=a(7218),o=a(6929),i=a(8689),n=a(3578);const r={ratio:[String,Number]};function u(e,t){return(0,o.Fl)((()=>{const a=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(a)&&a>0?{paddingBottom:100/a+"%"}:null}))}var s=a(859),c=a(8192);const d=16/9,v=(0,s.L)({name:"QImg",props:{...r,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:d},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:a}){const r=(0,l.iH)(e.initialRatio),s=u(e,r);let d=null,v=!1;const p=[(0,l.iH)(null),(0,l.iH)(k())],g=(0,l.iH)(0),m=(0,l.iH)(!1),f=(0,l.iH)(!1),h=(0,o.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),b=(0,o.Fl)((()=>({width:e.width,height:e.height}))),y=(0,o.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),w=(0,o.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function _(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function k(){return void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null}function x(e){null!==d&&(clearTimeout(d),d=null),f.value=!1,null===e?(m.value=!1,p[1^g.value].value=k()):m.value=!0,p[g.value].value=e}function q({target:e}){!0!==v&&(null!==d&&(clearTimeout(d),d=null),r.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,S(e,1))}function S(e,t){!0!==v&&1e3!==t&&(!0===e.complete?H(e):d=setTimeout((()=>{d=null,S(e,t+1)}),50))}function H(e){!0!==v&&(g.value=1^g.value,p[g.value].value=null,m.value=!1,f.value=!1,a("load",e.currentSrc||e.src))}function Q(e){null!==d&&(clearTimeout(d),d=null),m.value=!1,f.value=!0,p[g.value].value=null,p[1^g.value].value=k(),a("error",e)}function W(t){const a=p[t].value,l={key:"img_"+t,class:y.value,style:w.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...a};return g.value===t?(l.class+=" q-img__image--waiting",Object.assign(l,{onLoad:q,onError:Q})):l.class+=" q-img__image--loaded",(0,o.h)("div",{class:"q-img__container absolute-full",key:"img"+t},(0,o.h)("img",l))}function Z(){return!0!==m.value?(0,o.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(t[!0===f.value?"error":"default"])):(0,o.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,o.h)(n.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,o.YP)((()=>_()),x),x(_()),(0,o.Jd)((()=>{v=!0,null!==d&&(clearTimeout(d),d=null)})),()=>{const t=[];return null!==s.value&&t.push((0,o.h)("div",{key:"filler",style:s.value})),!0!==f.value&&(null!==p[0].value&&t.push(W(0)),null!==p[1].value&&t.push(W(1))),t.push((0,o.h)(i.uT,{name:"q-transition--fade"},Z)),(0,o.h)("div",{class:h.value,style:b.value,role:"img","aria-label":e.alt},t)}}})},7733:(e,t,a)=>{a.d(t,{v:()=>o});var l=a(8910);const o=(0,l.Q_)("MainLayoutStore",{state:()=>({isRightDrawerOpen:!1,id:null,isCommentShow:!0})})},6196:(e,t,a)=>{a.d(t,{Z:()=>v});var l=a(6929),o=a(80),i=a(7218),n=a(8910);const r=(0,n.Q_)("RecordStore",{state:()=>({RecordNumber:"浙ICP备2023031873号-1"})}),u={class:"text-caption1 text-grey-2"},s={href:"http://beian.miit.gov.cn",target:"_blank"},c={__name:"RecordShow",setup(e){const t=r();return(e,a)=>((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Uk)(" © 2023 风唤长河 "),(0,l._)("a",s,(0,o.zw)((0,i.SU)(t).RecordNumber),1)]))}},d=c,v=d},8421:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});a(5954);var l=a(6929),o=a(7218),i=a(80),n=a(1944),r=a(8455),u=a(9482),s=a(6196),c=a(3513),d=a(8910),v=a(7733);const p=e=>((0,l.dD)("data-v-d5693506"),e=e(),(0,l.Cn)(),e),g=p((()=>(0,l._)("div",{class:"text-red text-weight-bold"},"注销",-1))),m={class:"bg-transparent row justify-between",style:{height:"150px",width:"300px"}},f=["src"],h={class:"text-right q-ma-md"},b={class:"text-h6 text-weight-bold"},y={class:"text-subtitle2 q-mt-md"},w={__name:"MainLayoutMobile",setup(e){const t=(0,v.v)(),a=(0,c.t)(),{isAuthenticated:p}=(0,d.Jk)(a),{logout:w,checkAndSetAuth:_}=a,k=()=>{x.push("/login")},x=(0,r.tv)(),q=(0,n.Z)();(0,l.bv)((async()=>{const e=e=>{!1===C.value?F.value=!1:O.value&&!O.value.$el.contains(e.target)?(C.value=!1,F.value=!1):F.value=!0};document.addEventListener("click",e),(0,l.Ah)((()=>{document.removeEventListener("click",e)})),await _()}));const S=(0,o.iH)("");(0,l.JJ)("keyword",S);const H=(0,o.iH)(""),Q=()=>{S.value=H.value,H.value="",F.value=!1,z(),x.push({path:"/blog"})},W=()=>{p.value?t.isRightDrawerOpen=!t.isRightDrawerOpen:(q.notify({message:"请先登录",icon:"warning",color:"red",position:"top"}),k())},Z=(0,o.iH)(!0),z=()=>{Z.value=!1,(0,l.Y3)((()=>{Z.value=!0}))},F=(0,o.iH)(!1),O=(0,o.iH)(null),C=(0,o.iH)(!1);(0,l.YP)(p,(e=>{switch(e){case!0:R();break;case!1:$.value.username="",$.value.avatar=null,$.value.description="",$.value.nickname="";break;default:q.notify({message:"未知错误",icon:"warning",color:"red",position:"top"});break}}));const R=()=>{u.userApi.get("/user/self/").then((e=>{$.value.username=e.data.username,$.value.avatar=e.data.avatar,$.value.description=e.data.description,$.value.nickname=e.data.nickname})),u.userApi.get("/user/route/mobile/").then((e=>{console.log(e),j.value=e.data}))},$=(0,o.iH)({username:"",avatar:null,description:""}),j=(0,o.iH)([]),V=()=>{t.isRightDrawerOpen=!1,q.notify({message:"确定要退出登录吗？",color:"white",icon:"warning",textColor:"black",position:"center",actions:[{label:"取消",color:"black"},{label:"确定",color:"primary",handler:()=>{w(x)}}]})};function P(){window.open("https://github.com/nyml2003")}const L=(0,o.iH)(!1);return(e,a)=>{const n=(0,l.up)("q-header"),r=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),c=(0,l.up)("q-item"),d=(0,l.up)("q-list"),v=(0,l.up)("q-scroll-area"),p=(0,l.up)("q-avatar"),w=(0,l.up)("q-img"),_=(0,l.up)("q-btn"),k=(0,l.up)("q-drawer"),x=(0,l.up)("q-page-sticky"),q=(0,l.up)("router-view"),S=(0,l.up)("q-footer"),z=(0,l.up)("q-page-container"),R=(0,l.up)("q-route-tab"),N=(0,l.up)("q-tabs"),T=(0,l.up)("q-toolbar"),B=(0,l.up)("q-input"),D=(0,l.up)("q-layout"),Y=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(D,{view:"hHr LpR ffr",class:"non-selectable bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{elevated:"",class:"bg-transparent"}),L.value?((0,l.wg)(),(0,l.j4)(k,{key:0,modelValue:(0,o.SU)(t).isRightDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(t).isRightDrawerOpen=e),"show-if-above":"",width:300,side:"right",elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-left":"1px solid #ddd"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{padding:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.value,(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",exact:"",to:e.path,key:e.path},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{name:e.icon},null,8,["name"])])),_:2},1024),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["to"])),[[Y]]))),128)),(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{clickable:"",onClick:V,exact:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"exit_to_app"})])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[g])),_:1})])),_:1})),[[Y]])])),_:1})])),_:1}),(0,l.Wm)(w,{class:"absolute-top",src:"https://cdn.quasar.dev/img/material.png",style:{height:"150px"}},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l.Wm)(p,{size:"80px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:$.value.avatar,alt:"avatar"},null,8,f)])),_:1}),(0,l._)("div",h,[(0,l._)("div",b,(0,i.zw)($.value.nickname?$.value.nickname:$.value.username),1),(0,l._)("div",y,(0,i.zw)($.value.description),1)])])])),_:1}),L.value?((0,l.wg)(),(0,l.j4)(_,{key:0,style:{position:"absolute",bottom:"50vh",left:"-16.8px"},dense:"",round:"",unelevated:"",color:"primary",icon:"chevron_right",onClick:W})):(0,l.kq)("",!0)])),_:1},8,["modelValue"])):(0,l.kq)("",!0),(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x,{class:"z-top",position:"right",offset:[-16.8,0]},{default:(0,l.w5)((()=>[!(0,o.SU)(t).isRightDrawerOpen&&L.value?((0,l.wg)(),(0,l.j4)(_,{key:0,dense:"",round:"",unelevated:"",color:"primary",icon:"chevron_left",onClick:W})):(0,l.kq)("",!0)])),_:1}),Z.value?((0,l.wg)(),(0,l.j4)(q,{key:0})):(0,l.kq)("",!0),(0,l.Wm)(S,{class:"flex flex-center bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{dense:"",flat:"",unelevated:"",size:"xs",label:"GitHub",color:"primary",class:"q-mb-xl",onClick:P}),(0,l.Wm)(s.Z,{class:"text-caption1 text-grey-8 q-mb-xl"})])),_:1})])),_:1}),(0,l.Wm)(S,{reveal:"",ref_key:"toolbarRef",ref:O,elevated:"",style:{"backdrop-filter":"blur(10px)"},class:"bg-transparent"},{default:(0,l.w5)((()=>[F.value?((0,l.wg)(),(0,l.j4)(T,{key:1,class:"text-black justify-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{ref:"input",modelValue:H.value,"onUpdate:modelValue":a[2]||(a[2]=e=>H.value=e),color:"primary",dense:"",borderless:"",style:{width:"100%"},placeholder:"Search"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(_,{flat:"",dense:"",icon:"search",color:"primary",onClick:Q})])),_:1},8,["modelValue"])])),_:1})):((0,l.wg)(),(0,l.j4)(T,{key:0,class:"text-black justify-between"},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{"inline-label":""},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{icon:"home",to:"/",exact:""}),(0,l.Wm)(R,{icon:"group",to:"/friend"})])),_:1}),(0,l.Wm)(_,{round:"",icon:"search",color:"primary",onClick:a[1]||(a[1]=e=>C.value=!0)}),(0,l.Wm)(N,{"inline-label":""},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{icon:"menu_book",to:"/blog"}),(0,l.Wm)(R,{icon:"videogame_asset",to:"/game",exact:""})])),_:1})])),_:1}))])),_:1},512)])),_:1})}}};var _=a(5291),k=a(4464),x=a(6453),q=a(4541),S=a(7784),H=a(6758),Q=a(3251),W=a(9131),Z=a(1909),z=a(2322),F=a(4743),O=a(5779),C=a(6318),R=a(859),$=a(8192),j=a(7623);const V={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>2===e.length},expand:Boolean};function P(){const{props:e,proxy:{$q:t}}=(0,l.FN)(),a=(0,l.f3)(j.YE,j.qO);if(a===j.qO)return console.error("QPageSticky needs to be child of QLayout"),j.qO;const o=(0,l.Fl)((()=>{const t=e.position;return{top:t.indexOf("top")>-1,right:t.indexOf("right")>-1,bottom:t.indexOf("bottom")>-1,left:t.indexOf("left")>-1,vertical:"top"===t||"bottom"===t,horizontal:"left"===t||"right"===t}})),i=(0,l.Fl)((()=>a.header.offset)),n=(0,l.Fl)((()=>a.right.offset)),r=(0,l.Fl)((()=>a.footer.offset)),u=(0,l.Fl)((()=>a.left.offset)),s=(0,l.Fl)((()=>{let a=0,l=0;const s=o.value,c=!0===t.lang.rtl?-1:1;!0===s.top&&0!==i.value?l=`${i.value}px`:!0===s.bottom&&0!==r.value&&(l=-r.value+"px"),!0===s.left&&0!==u.value?a=c*u.value+"px":!0===s.right&&0!==n.value&&(a=-c*n.value+"px");const d={transform:`translate(${a}, ${l})`};return e.offset&&(d.margin=`${e.offset[1]}px ${e.offset[0]}px`),!0===s.vertical?(0!==u.value&&(d[!0===t.lang.rtl?"right":"left"]=`${u.value}px`),0!==n.value&&(d[!0===t.lang.rtl?"left":"right"]=`${n.value}px`)):!0===s.horizontal&&(0!==i.value&&(d.top=`${i.value}px`),0!==r.value&&(d.bottom=`${r.value}px`)),d})),c=(0,l.Fl)((()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--`+(!0===e.expand?"expand":"shrink")));function d(t){const a=(0,$.KR)(t.default);return(0,l.h)("div",{class:c.value,style:s.value},!0===e.expand?a:[(0,l.h)("div",a)])}return{$layout:a,getStickyContent:d}}const L=(0,R.L)({name:"QPageSticky",props:V,setup(e,{slots:t}){const{getStickyContent:a}=P();return()=>a(t)}});var N=a(5024),T=a(6434),B=a(4411),D=a(6289),Y=a(9033),A=a(1458),I=a(9332),U=a.n(I);const E=(0,_.Z)(w,[["__scopeId","data-v-d5693506"]]),J=E;U()(w,"components",{QLayout:k.Z,QHeader:x.Z,QDrawer:q.Z,QScrollArea:S.Z,QList:H.Z,QItem:Q.Z,QItemSection:W.Z,QIcon:Z.Z,QImg:z.Z,QAvatar:F.Z,QBtn:O.Z,QPageContainer:C.Z,QPageSticky:L,QFooter:N.Z,QToolbar:T.Z,QTabs:B.Z,QRouteTab:D.Z,QInput:Y.Z}),U()(w,"directives",{Ripple:A.Z})}}]);