"use strict";(globalThis["webpackChunkventusblog"]=globalThis["webpackChunkventusblog"]||[]).push([[646],{9848:(e,l,t)=>{t.d(l,{N:()=>o});var a=t(8910),i=t(7218);const o=(0,a.Q_)("blog",(()=>{const e=(0,i.iH)({title:"",content:"",description:""}),l=(0,i.iH)([]);function t(l){e.value={title:l.title,content:l.content,description:l.description}}function a(){title.value="",content.value="",description.value=""}function o(){return e.value}function n(e){for(let t=0;t<l.value.length;t++)if(l.value[t].id==e)return t+1<l.value.length?l.value[t+1].id:0}function u(e){for(let t=0;t<l.value.length;t++)if(l.value[t].id==e)return t-1>=0?l.value[t-1].id:0}function s(){return l.value}function d(e){l.value=e}function r(){l.value=[]}return{blog:e,blogList:l,setBlog:t,resetBlog:a,getBlog:o,getNextId:n,getPrevId:u,getBlogList:s,setBlogList:d,resetBlogList:r}}))},8646:(e,l,t)=>{t.r(l),t.d(l,{default:()=>M});t(5954);var a=t(6929),i=t(80),o=t(7218),n=t(3646),u=t(8979),s=t(8455),d=t(9482),r=t(9848);t(988);const c={class:"q-ma-xl",style:{width:"50vw"}},m={class:"row items-center no-wrap"},v={clas:"col-4 q-ma-md"},p={class:"text-h5 row"},g={class:"text-subtitle2 text-grey row no-wrap q-mt-md"},w={class:"q-ma-xs"},f={class:"q-ma-xs"},_={class:"col-auto"},h={class:"row q-ma-xs"},b={class:"q-ma-xl"},W=(0,a._)("div",{class:"text-h6 q-ma-md"},"快速导航",-1),k={key:0},q=(0,a._)("div",{class:"text-h6"},"目录",-1),x={key:1,class:"text-h6"},C="preview-only",Q={__name:"BlogDetail",setup(e){const l=(0,r.N)(),t=(0,s.yj)(),Q=(0,s.tv)(),Z=(0,o.iH)(""),y=(0,o.iH)(""),H=(0,o.iH)(0),B=document.documentElement,S=(0,o.iH)(0),U=()=>{S.value=parseInt(t.params.id),d.api.get("/api/blog/"+S.value).then((e=>{V.value=e.data.created_at,Z.value=e.data.title,y.value=e.data.description,E.value=e.data.content,H.value=e.data.views,I.value=l.getBlogList(),0===I.value.length&&Q.push({path:"/blog"}),D.value=l.getNextId(S.value),z.value=l.getPrevId(S.value),l.setBlog({title:e.data.title,content:e.data.content,description:e.data.description})}))},I=(0,o.iH)([]),D=(0,o.iH)(0),z=(0,o.iH)(0),L=()=>{Q.push({name:"BlogDetail",params:{id:D.value}}).then((()=>{U()}))},T=()=>{Q.push({name:"BlogDetail",params:{id:z.value}}).then((()=>{U()}))},V=(0,o.iH)("");(0,a.bv)((()=>{U()}));const j=()=>{Q.push({name:"BlogEdit",params:{id:S.value}})},E=(0,o.iH)(""),N=e=>{e.length>0?P.value=!0:P.value=!1},P=(0,o.iH)(!1),A=(0,o.iH)(!1);return(e,l)=>{const t=(0,a.up)("q-btn"),s=(0,a.up)("q-page-sticky"),d=(0,a.up)("q-item-label"),r=(0,a.up)("q-item-section"),y=(0,a.up)("q-item"),G=(0,a.up)("q-list"),K=(0,a.up)("q-drawer"),M=(0,a.up)("q-space"),O=(0,a.up)("q-toolbar"),Y=(0,a.up)("q-icon"),F=(0,a.up)("q-card-section"),J=(0,a.up)("q-separator"),R=(0,a.up)("q-card"),X=(0,a.up)("q-card-actions"),$=(0,a.up)("q-scroll-area"),ee=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(ee,{class:"flex justify-center items-start"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{position:"left",offset:[18,0]},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{round:"",color:"accent",icon:A.value?"menu_open":"menu",onClick:l[0]||(l[0]=e=>A.value=!A.value)},null,8,["icon"])])),_:1}),(0,a.Wm)(K,{modelValue:A.value,"onUpdate:modelValue":l[1]||(l[1]=e=>A.value=e),side:"left",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.value,((e,l)=>((0,a.wg)(),(0,a.j4)(y,{key:l},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:(0,i.C_)({"text-primary":e.id===S.value,"text-grey":e.id!==S.value})},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["class"])])),_:2},1024),(0,a.Wm)(r,{side:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{icon:"arrow_forward",flat:"",onClick:()=>{(0,o.SU)(Q).push({name:"BlogDetail",params:{id:e.id}}).then((()=>{U()}))}},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,a._)("div",c,[(0,a.Wm)(O,{class:"q-mb-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"上一篇",icon:"arrow_back",flat:"",onClick:T,disable:0===z.value},null,8,["disable"]),(0,a.Wm)(M),(0,a.Wm)(t,{label:"下一篇","icon-right":"arrow_forward",flat:"",onClick:L,disable:0===D.value},null,8,["disable"])])),_:1}),(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("div",p,[(0,a.Uk)((0,i.zw)(Z.value)+" ",1),(0,a.Wm)(t,{icon:"edit",flat:"",dense:"",color:"warning",onClick:j}),(0,a.Wm)(t,{icon:"delete",flat:"",dense:"",color:"red"})]),(0,a._)("div",g,[(0,a._)("div",w,[(0,a.Wm)(Y,{name:"history_edu",size:"sm"}),(0,a.Uk)(" Word Count:"+(0,i.zw)(E.value.length),1)]),(0,a._)("div",f,[(0,a.Wm)(Y,{name:"timer",size:"sm"}),(0,a.Uk)(" "+(0,i.zw)(new Date(V.value).toLocaleString()),1)])])]),(0,a.Wm)(M),(0,a._)("div",_,[(0,a._)("div",h,[(0,a.Wm)(Y,{name:"visibility",size:"sm"}),(0,a.Uk)((0,i.zw)(H.value),1)])])])])),_:1}),(0,a.Wm)(J),(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,o.SU)(n.M),{editorId:C,modelValue:E.value,onOnGetCatalog:N},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(O,{class:"q-mt-xl"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"上一篇",icon:"arrow_back",flat:"",onClick:T,disable:0===z.value},null,8,["disable"]),(0,a.Wm)(M),(0,a.Wm)(t,{label:"下一篇","icon-right":"arrow_forward",flat:"",onClick:L,disable:0===D.value},null,8,["disable"])])),_:1})]),(0,a._)("div",b,[(0,a.Wm)(R,{style:{position:"fixed",right:"5vw",top:"10vh"}},{default:(0,a.w5)((()=>[(0,a.Wm)(X,{align:"right"},{default:(0,a.w5)((()=>[W,(0,a.Wm)(t,{icon:"arrow_upward",flat:"",onClick:l[2]||(l[2]=e=>(0,o.SU)(B).scrollTop=0)}),(0,a.Wm)(t,{icon:"arrow_downward",flat:"",dense:"",onClick:l[3]||(l[3]=e=>(0,o.SU)(B).scrollTop=(0,o.SU)(B).scrollHeight)})])),_:1}),(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{style:{height:"70vh"}},{default:(0,a.w5)((()=>[P.value?((0,a.wg)(),(0,a.iD)("div",k,[q,(0,a.Wm)((0,o.SU)(u.Z),{editorId:C,scrollElement:(0,o.SU)(B)},null,8,["scrollElement"])])):((0,a.wg)(),(0,a.iD)("div",x,"本篇文章无目录"))])),_:1})])),_:1})])),_:1})])])),_:1})}}};var Z=t(7959),y=t(3271),H=t(7536),B=t(4541),S=t(6758),U=t(3251),I=t(9131),D=t(7344),z=t(6434),L=t(9403),T=t(6786),V=t(7392),j=t(1909),E=t(4348),N=t(1789),P=t(7784),A=t(9332),G=t.n(A);const K=Q,M=K;G()(Q,"components",{QPage:Z.Z,QPageSticky:y.Z,QBtn:H.Z,QDrawer:B.Z,QList:S.Z,QItem:U.Z,QItemSection:I.Z,QItemLabel:D.Z,QToolbar:z.Z,QSpace:L.Z,QCard:T.Z,QCardSection:V.Z,QIcon:j.Z,QSeparator:E.Z,QCardActions:N.Z,QScrollArea:P.Z})}}]);