"use strict";(globalThis["webpackChunkventusblog"]=globalThis["webpackChunkventusblog"]||[]).push([[646],{9848:(e,l,a)=>{a.d(l,{N:()=>o});var t=a(8910),i=a(7218);const o=(0,t.Q_)("blog",(()=>{const e=(0,i.iH)({title:"",content:"",description:""}),l=(0,i.iH)([]);function a(l){e.value={title:l.title,content:l.content,description:l.description}}function t(){title.value="",content.value="",description.value=""}function o(){return e.value}function n(e){for(let a=0;a<l.value.length;a++)if(l.value[a].id==e)return a+1<l.value.length?l.value[a+1].id:0}function u(e){for(let a=0;a<l.value.length;a++)if(l.value[a].id==e)return a-1>=0?l.value[a-1].id:0}function s(){return l.value}function r(e){l.value=e}function d(){l.value=[]}return{blog:e,blogList:l,setBlog:a,resetBlog:t,getBlog:o,getNextId:n,getPrevId:u,getBlogList:s,setBlogList:r,resetBlogList:d}}))},8646:(e,l,a)=>{a.r(l),a.d(l,{default:()=>M});a(5954);var t=a(6929),i=a(80),o=a(7218),n=a(3646),u=a(8979),s=a(8455),r=a(9482),d=a(9848);a(988);const c={class:"q-ma-xl",style:{width:"70vw"}},m={class:"row items-center no-wrap"},v={clas:"col-4 q-ma-md"},p={class:"text-h5 row"},g={class:"text-subtitle2 text-grey row no-wrap q-mt-md"},w={class:"q-ma-xs"},f={class:"q-ma-xs"},_={class:"col-auto"},h={class:"row q-ma-xs"},W={class:"q-ma-xl"},b=(0,t._)("div",{class:"text-h6 q-ma-md"},"快速导航",-1),k={key:0},q=(0,t._)("div",{class:"text-h6"},"目录",-1),C={key:1,class:"text-h6"},x="preview-only",y={__name:"BlogDetail",setup(e){const l=(0,d.N)(),a=(0,s.yj)(),y=(0,s.tv)(),Q=(0,o.iH)(""),Z=(0,o.iH)(""),H=(0,o.iH)(0),B=document.documentElement,S=(0,o.iH)(0),U=(0,o.iH)(!1),I=()=>{S.value=parseInt(a.params.id),r.api.get("/api/blog/"+S.value).then((e=>{V.value=e.data.created_at,Q.value=e.data.title,Z.value=e.data.description,N.value=e.data.content,H.value=e.data.views,D.value=l.getBlogList(),0===D.value.length&&y.push({path:"/blog"}),z.value=l.getNextId(S.value),L.value=l.getPrevId(S.value),l.setBlog({title:e.data.title,content:e.data.content,description:e.data.description})}))},D=(0,o.iH)([]),z=(0,o.iH)(0),L=(0,o.iH)(0),j=()=>{y.push({name:"BlogDetail",params:{id:z.value}}).then((()=>{I()}))},T=()=>{y.push({name:"BlogDetail",params:{id:L.value}}).then((()=>{I()}))},V=(0,o.iH)("");(0,t.bv)((()=>{I()}));const E=()=>{y.push({name:"BlogEdit",params:{id:S.value}})},N=(0,o.iH)(""),P=e=>{e.length>0?A.value=!0:A.value=!1},A=(0,o.iH)(!1),G=(0,o.iH)(!1);return(e,l)=>{const a=(0,t.up)("q-btn"),s=(0,t.up)("q-page-sticky"),r=(0,t.up)("q-item-label"),d=(0,t.up)("q-item-section"),Z=(0,t.up)("q-item"),K=(0,t.up)("q-list"),M=(0,t.up)("q-drawer"),O=(0,t.up)("q-space"),Y=(0,t.up)("q-toolbar"),F=(0,t.up)("q-icon"),J=(0,t.up)("q-card-section"),R=(0,t.up)("q-separator"),X=(0,t.up)("q-card"),$=(0,t.up)("q-card-actions"),ee=(0,t.up)("q-scroll-area"),le=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(le,{class:"flex justify-center items-start"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{position:"left",offset:[18,0]},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{round:"",color:"accent",icon:G.value?"menu_open":"menu",onClick:l[0]||(l[0]=e=>G.value=!G.value)},null,8,["icon"])])),_:1}),(0,t.Wm)(s,{position:"right",offset:[18,0]},{default:(0,t.w5)((()=>[U.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:0,round:"",color:"accent",icon:U.value?"menu_open":"menu",onClick:l[1]||(l[1]=e=>U.value=!U.value)},null,8,["icon"]))])),_:1}),(0,t.Wm)(M,{modelValue:G.value,"onUpdate:modelValue":l[2]||(l[2]=e=>G.value=e),side:"left",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(D.value,((e,l)=>((0,t.wg)(),(0,t.j4)(Z,{key:l},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:(0,i.C_)({"text-primary":e.id===S.value,"text-grey":e.id!==S.value})},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["class"])])),_:2},1024),(0,t.Wm)(d,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{icon:"arrow_forward",flat:"",onClick:()=>{(0,o.SU)(y).push({name:"BlogDetail",params:{id:e.id}}).then((()=>{I()}))}},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,t._)("div",c,[(0,t.Wm)(Y,{class:"q-mb-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"上一篇",icon:"arrow_back",flat:"",onClick:T,disable:0===L.value},null,8,["disable"]),(0,t.Wm)(O),(0,t.Wm)(a,{label:"下一篇","icon-right":"arrow_forward",flat:"",onClick:j,disable:0===z.value},null,8,["disable"])])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t._)("div",v,[(0,t._)("div",p,[(0,t.Uk)((0,i.zw)(Q.value)+" ",1),(0,t.Wm)(a,{icon:"edit",flat:"",dense:"",color:"warning",onClick:E}),(0,t.Wm)(a,{icon:"delete",flat:"",dense:"",color:"red"})]),(0,t._)("div",g,[(0,t._)("div",w,[(0,t.Wm)(F,{name:"history_edu",size:"sm"}),(0,t.Uk)(" Word Count:"+(0,i.zw)(N.value.length),1)]),(0,t._)("div",f,[(0,t.Wm)(F,{name:"timer",size:"sm"}),(0,t.Uk)(" "+(0,i.zw)(new Date(V.value).toLocaleString()),1)])])]),(0,t.Wm)(O),(0,t._)("div",_,[(0,t._)("div",h,[(0,t.Wm)(F,{name:"visibility",size:"sm"}),(0,t.Uk)((0,i.zw)(H.value),1)])])])])),_:1}),(0,t.Wm)(R),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(n.M),{editorId:x,modelValue:N.value,onOnGetCatalog:P},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(Y,{class:"q-mt-xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"上一篇",icon:"arrow_back",flat:"",onClick:T,disable:0===L.value},null,8,["disable"]),(0,t.Wm)(O),(0,t.Wm)(a,{label:"下一篇","icon-right":"arrow_forward",flat:"",onClick:j,disable:0===z.value},null,8,["disable"])])),_:1})]),(0,t._)("div",W,[U.value?((0,t.wg)(),(0,t.j4)(X,{key:0,class:"fixed-right",style:{height:"80vh",top:"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)($,{align:"right"},{default:(0,t.w5)((()=>[b,(0,t.Wm)(a,{icon:"arrow_upward",flat:"",onClick:l[3]||(l[3]=e=>(0,o.SU)(B).scrollTop=0)}),(0,t.Wm)(a,{icon:"arrow_downward",flat:"",dense:"",onClick:l[4]||(l[4]=e=>(0,o.SU)(B).scrollTop=(0,o.SU)(B).scrollHeight)}),(0,t.Wm)(a,{icon:"close",flat:"",onClick:l[5]||(l[5]=e=>U.value=!1)})])),_:1}),(0,t.Wm)(J,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{style:{height:"70vh"}},{default:(0,t.w5)((()=>[A.value?((0,t.wg)(),(0,t.iD)("div",k,[q,(0,t.Wm)((0,o.SU)(u.Z),{editorId:x,scrollElement:(0,o.SU)(B)},null,8,["scrollElement"])])):((0,t.wg)(),(0,t.iD)("div",C,"本篇文章无目录"))])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0)])])),_:1})}}};var Q=a(7959),Z=a(3271),H=a(7536),B=a(4541),S=a(6758),U=a(3251),I=a(9131),D=a(7344),z=a(6434),L=a(9403),j=a(6786),T=a(7392),V=a(1909),E=a(4348),N=a(1789),P=a(7784),A=a(9332),G=a.n(A);const K=y,M=K;G()(y,"components",{QPage:Q.Z,QPageSticky:Z.Z,QBtn:H.Z,QDrawer:B.Z,QList:S.Z,QItem:U.Z,QItemSection:I.Z,QItemLabel:D.Z,QToolbar:z.Z,QSpace:L.Z,QCard:j.Z,QCardSection:T.Z,QIcon:V.Z,QSeparator:E.Z,QCardActions:N.Z,QScrollArea:P.Z})}}]);